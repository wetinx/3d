<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>流程图DEMO</title>
<!--[if lt IE 9]>
<?import namespace="v" implementation="#default#VML" ?>
<![endif]-->
<!--<link rel="stylesheet" type="text/css" href="codebase/GooFlow2.css"/>
<script src="http://www.jq22.com/jquery/jquery-1.10.2.js"></script>  -->
<link rel="stylesheet" href="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/css/bootstrap.min.css">
	<script src="http://cdn.static.runoob.com/libs/jquery/2.1.1/jquery.min.js"></script>
	<script src="http://cdn.static.runoob.com/libs/bootstrap/3.3.7/js/bootstrap.min.js"></script>

<link rel="stylesheet" type="text/css" href="my.css">
<script type="text/javascript" src="../js/vis.js"></script>
<!--
<style type="text/css">
  #demo2 {
    width: auto;
    height: auto;
    border: 10px solid lightgray;
  }
</style>
-->
</head>


<body>



  <ul id="myTab" class="nav nav-tabs">
	<li class="active">
		<a href="#home" data-toggle="tab">
			 思维导图
		</a>
	</li>
	<li><a href="#code" data-toggle="tab">代码</a></li>
</ul>

<div id="myTabContent" class="tab-content">
	<div class="tab-pane fade in active" id="home">

    <div id="demo2"></div>
    <script type="text/javascript">
    var container = document.getElementById('demo2');

    var options = {};
    var graph = new vis.Graph(container, data, options);
    </script>

<!--    <script type="text/javascript">
      // create an array with nodes
      var nodes = [
        {id: 1, label: 'Node 1'},
        {id: 2, label: 'Node 2'},
        {id: 3, label: 'Node 3'},
        {id: 4, label: 'Node 4'},
        {id: 5, label: 'Node 5'}
      ];

      // create an array with edges
      var edges = [
        {from: 1, to: 2},
        {from: 1, to: 3},
        {from: 2, to: 4},
        {from: 2, to: 5}
      ];


      // create a graph
      var container = document.getElementById('demo2');
      var data = {
        nodes: nodes,
        edges: edges
      };
      var options = {};
      var graph = new vis.Graph(container, data, options);
    </script>




    <div id="demo200" style="margin:20px"></div>
  -->
  </div>

  <div class="tab-pane fade" id="code">

<input id="submit" type="button" style="margin:10px" value='导出结果' onclick="Export()"/> <br>
<textarea id="result"  style="float:top;width:600px;height:800px;overflow:scroll;resize:none;" ></textarea>
  </div>

</div>







</body>
<script type="text/javascript" src="my.js"></script>
<script type="text/javascript">
var jsondata={"title":"思维导图",
"nodes":
{"demo_node_1":{"name":"登记","left":20,"top":59,"type":"start round","width":100,"height":48},
 "demo_node_3":{"name":"分管领导批","left":335,"top":57,"type":"task","width":109,"height":40},
 "demo_node_6":{"name":"分件","left":73,"top":60,"type":"fork","width":100,"height":24},
 "demo_node_8":{"name":"XX科审批","left":172,"top":95,"type":"task","width":100,"height":24},
 "demo_node_9":{"name":"XX科审批","left":171,"top":25,"type":"task","width":100,"height":24},
 "demo_node_20":{"name":"局领导审批","left":333,"top":184,"type":"task","width":111,"height":49},
 "demo_node_23":{"name":"打证发件","left":172,"top":198,"type":"task","width":100,"height":24},
 "demo_node_25":{"name":"归档","left":17,"top":198,"type":"end round","width":124,"height":124}},
"lines":
{"demo_line_7":{"type":"sl","from":"demo_node_1","to":"demo_node_6","name":"","alt":true},
 "demo_line_10":{"type":"lr","M":121,"from":"demo_node_6","to":"demo_node_8","name":""},
 "demo_line_11":{"type":"lr","M":122,"from":"demo_node_6","to":"demo_node_9","name":""},
 "demo_line_12":{"type":"lr","M":312.5,"from":"demo_node_8","to":"demo_node_3","name":""},
 "demo_line_13":{"type":"lr","M":312.5,"from":"demo_node_9","to":"demo_node_3","name":""},
 "demo_line_21":{"type":"sl","from":"demo_node_3","to":"demo_node_20","name":""},
 "demo_line_24":{"type":"sl","from":"demo_node_20","to":"demo_node_23","name":""},
 "demo_line_26":{"type":"sl","from":"demo_node_23","to":"demo_node_25","name":""}},"areas":{},"initNum":28};
var property={
	headLabel:true,
	initLabelText:"审批流程",
	width:600,
	height:800,
	toolBtns:["start round","end round","task","fork","join"],
	haveHead:true,
	headBtns:["save","undo","redo","reload"],//如果haveHead=true，则定义HEAD区的按钮
	haveTool:true,
	haveGroup:true,
	useOperStack:true
};
var remark={
	cursor:"选择指针",
	direct:"结点连线",
	start:"入口结点",
	"end":"结束结点",
	"task":"任务结点",
	fork:"分支结点",
	"join":"联合结点",
	group:"组织划分框编辑开关"
};
var demo;
$(document).ready(function(){
	demo=$.createGooFlow($("#demo2"),property);
	demo.setNodeRemarks(remark);
	demo.loadData(jsondata);
});
var out;
function Export(){
    document.getElementById("result").value=JSON.stringify(demo.exportData());
}
</script>
</html>
